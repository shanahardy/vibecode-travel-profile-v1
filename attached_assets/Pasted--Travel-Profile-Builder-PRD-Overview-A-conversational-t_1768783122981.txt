# Travel Profile Builder PRD

## Overview
A conversational travel profile application that helps users create comprehensive, reusable travel profiles through an intuitive voice and text-based interface. The system uses AI to gather, extract, and organize travel preferences to streamline future trip planning and booking. After onboarding, users can immediately leverage their profile to plan detailed trip itineraries with booking links.

## User Stories

### Onboarding & Profile Management
- As a user, I want to build my travel profile through natural conversation (voice or text)
- As a user, I want the system to extract and confirm specific data points from my responses
- As a user, I want to view and edit all my saved profile information
- As a user, I want my travel group details automatically saved for future bookings
- As a user, I want my location and preferred airports remembered
- As a user, I want my budget priorities and past trip insights saved

### Trip Planning
- As a user, I want to plan my next trip using my saved profile
- As a user, I want to plan a dream vacation itinerary
- As a user, I want personalized recommendations based on my preferences
- As a user, I want a detailed day-by-day itinerary
- As a user, I want links to book flights, hotels, and activities
- As a user, I want budget estimates based on my preferences
- As a user, I want to save and edit multiple trip plans

## Implementation Phases

### Phase 1: Frontend Prototype & Onboarding Flow
- React application with text-based conversation interface
- Mock AI responses for conversation flow
- Profile data collection and storage (localStorage)
- Profile editing interface
- Progress tracking and navigation
- Responsive design for mobile and desktop

### Phase 2: Backend Integration & AI
- OpenAI Agent Builder integration
- Real-time data extraction and validation
- Persistent database storage
- API endpoints for profile management
- Confirmation and correction loops

### Phase 3: Voice Integration
- VoiceFlow integration for voice interaction
- Speech-to-text and text-to-speech
- Voice mode toggle
- Audio feedback and prompts

### Phase 4: Trip Planning Engine
- Trip planning conversation flow
- Profile-aware recommendations
- Itinerary generation (day-by-day)
- Activity and restaurant suggestions
- Budget estimation based on preferences
- External booking links (flights, hotels, activities)
- Itinerary save and edit functionality
- Multiple trip management

### Phase 5: Enhanced Planning Features
- Weather and seasonal recommendations
- School calendar integration for families
- Alternative destination suggestions
- Packing list generation
- Travel tips based on destination
- Itinerary sharing and collaboration
- Trip comparison tool

### Phase 6: Booking Integration (Future)
- Direct booking API integrations
- Price monitoring and alerts
- One-click booking from itineraries
- Travel document management
- Loyalty program integration
- Real-time availability checking

## Design System

### Color Palette

```css
:root {
  /* Background & Foreground */
  --background: oklch(0.9751 0.0127 244.2507);
  --foreground: oklch(0.3729 0.0306 259.7328);
  
  /* Card */
  --card: oklch(1.0000 0 0);
  --card-foreground: oklch(0.3729 0.0306 259.7328);
  
  /* Popover */
  --popover: oklch(1.0000 0 0);
  --popover-foreground: oklch(0.3729 0.0306 259.7328);
  
  /* Primary - Green/Teal */
  --primary: oklch(0.7227 0.1920 149.5793);
  --primary-foreground: oklch(1.0000 0 0);
  
  /* Secondary - Light Purple/Blue */
  --secondary: oklch(0.9514 0.0250 236.8242);
  --secondary-foreground: oklch(0.4461 0.0263 256.8018);
  
  /* Muted */
  --muted: oklch(0.9670 0.0029 264.5419);
  --muted-foreground: oklch(0.5510 0.0234 264.3637);
  
  /* Accent - Mint/Teal */
  --accent: oklch(0.9505 0.0507 163.0508);
  --accent-foreground: oklch(0.3729 0.0306 259.7328);
  
  /* Destructive - Orange/Red */
  --destructive: oklch(0.6368 0.2078 25.3313);
  --destructive-foreground: oklch(1.0000 0 0);
  
  /* Border & Input */
  --border: oklch(0.9276 0.0058 264.5313);
  --input: oklch(0.9276 0.0058 264.5313);
  --ring: oklch(0.7227 0.1920 149.5793);
  
  /* Chart Colors */
  --chart-1: oklch(0.7227 0.1920 149.5793);
  --chart-2: oklch(0.6959 0.1491 162.4796);
  --chart-3: oklch(0.5960 0.1274 163.2254);
  --chart-4: oklch(0.5081 0.1049 165.6121);
  --chart-5: oklch(0.4318 0.0865 166.9128);
  
  /* Sidebar */
  --sidebar: oklch(0.9514 0.0250 236.8242);
  --sidebar-foreground: oklch(0.3729 0.0306 259.7328);
  --sidebar-primary: oklch(0.7227 0.1920 149.5793);
  --sidebar-primary-foreground: oklch(1.0000 0 0);
  --sidebar-accent: oklch(0.9505 0.0507 163.0508);
  --sidebar-accent-foreground: oklch(0.3729 0.0306 259.7328);
  --sidebar-border: oklch(0.9276 0.0058 264.5313);
  --sidebar-ring: oklch(0.7227 0.1920 149.5793);
}

.dark {
  /* Background & Foreground */
  --background: oklch(0.2077 0.0398 265.7549);
  --foreground: oklch(0.8717 0.0093 258.3382);
  
  /* Card */
  --card: oklch(0.2795 0.0368 260.0310);
  --card-foreground: oklch(0.8717 0.0093 258.3382);
  
  /* Popover */
  --popover: oklch(0.2795 0.0368 260.0310);
  --popover-foreground: oklch(0.8717 0.0093 258.3382);
  
  /* Primary - Brighter Green/Teal */
  --primary: oklch(0.7729 0.1535 163.2231);
  --primary-foreground: oklch(0.2077 0.0398 265.7549);
  
  /* Secondary - Dark Purple/Blue */
  --secondary: oklch(0.3351 0.0331 260.9120);
  --secondary-foreground: oklch(0.7118 0.0129 286.0665);
  
  /* Muted */
  --muted: oklch(0.2463 0.0275 259.9628);
  --muted-foreground: oklch(0.5510 0.0234 264.3637);
  
  /* Accent */
  --accent: oklch(0.3729 0.0306 259.7328);
  --accent-foreground: oklch(0.7118 0.0129 286.0665);
  
  /* Destructive */
  --destructive: oklch(0.6368 0.2078 25.3313);
  --destructive-foreground: oklch(0.2077 0.0398 265.7549);
  
  /* Border & Input */
  --border: oklch(0.4461 0.0263 256.8018);
  --input: oklch(0.4461 0.0263 256.8018);
  --ring: oklch(0.7729 0.1535 163.2231);
  
  /* Chart Colors */
  --chart-1: oklch(0.7729 0.1535 163.2231);
  --chart-2: oklch(0.7845 0.1325 181.9120);
  --chart-3: oklch(0.7227 0.1920 149.5793);
  --chart-4: oklch(0.6959 0.1491 162.4796);
  --chart-5: oklch(0.5960 0.1274 163.2254);
  
  /* Sidebar */
  --sidebar: oklch(0.2795 0.0368 260.0310);
  --sidebar-foreground: oklch(0.8717 0.0093 258.3382);
  --sidebar-primary: oklch(0.7729 0.1535 163.2231);
  --sidebar-primary-foreground: oklch(0.2077 0.0398 265.7549);
  --sidebar-accent: oklch(0.3729 0.0306 259.7328);
  --sidebar-accent-foreground: oklch(0.7118 0.0129 286.0665);
  --sidebar-border: oklch(0.4461 0.0263 256.8018);
  --sidebar-ring: oklch(0.7729 0.1535 163.2231);
}

/* Tailwind Theme Extension */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}
```

### Typography

```css
:root {
  /* Font Families */
  --font-sans: DM Sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-serif: Lora, Georgia, serif;
  --font-mono: IBM Plex Mono, 'Courier New', monospace;
  
  /* Font Sizes */
  --text-xs: 0.75rem;      /* 12px */
  --text-sm: 0.875rem;     /* 14px */
  --text-base: 1rem;       /* 16px */
  --text-lg: 1.125rem;     /* 18px */
  --text-xl: 1.25rem;      /* 20px */
  --text-2xl: 1.5rem;      /* 24px */
  --text-3xl: 1.875rem;    /* 30px */
  --text-4xl: 2.25rem;     /* 36px */
  
  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  
  /* Line Heights */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.75;
  
  /* Letter Spacing */
  --tracking-normal: 0em;
}

/* Tailwind Typography Extension */
@theme inline {
  --font-sans: var(--font-sans);
  --font-serif: var(--font-serif);
  --font-mono: var(--font-mono);
}
```

### Spacing & Layout

```css
:root {
  /* Spacing Scale (based on 0.25rem / 4px) */
  --spacing: 0.25rem;
  --space-1: 0.25rem;      /* 4px */
  --space-2: 0.5rem;       /* 8px */
  --space-3: 0.75rem;      /* 12px */
  --space-4: 1rem;         /* 16px */
  --space-5: 1.25rem;      /* 20px */
  --space-6: 1.5rem;       /* 24px */
  --space-8: 2rem;         /* 32px */
  --space-10: 2.5rem;      /* 40px */
  --space-12: 3rem;        /* 48px */
  --space-16: 4rem;        /* 64px */
  
  /* Border Radius */
  --radius: 0.5rem;        /* 8px - base radius */
  --radius-sm: calc(var(--radius) - 4px);   /* 4px */
  --radius-md: calc(var(--radius) - 2px);   /* 6px */
  --radius-lg: var(--radius);                /* 8px */
  --radius-xl: calc(var(--radius) + 4px);   /* 12px */
  --radius-2xl: 1rem;      /* 16px */
  --radius-full: 9999px;
}

@theme inline {
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
}
```

### Shadows

```css
:root {
  /* Shadow Configuration */
  --shadow-x: 0px;
  --shadow-y: 4px;
  --shadow-blur: 8px;
  --shadow-spread: -1px;
  --shadow-opacity: 0.1;
  --shadow-color: hsl(0 0% 0%);
  
  /* Shadow Scale */
  --shadow-2xs: 0px 4px 8px -1px hsl(0 0% 0% / 0.05);
  --shadow-xs: 0px 4px 8px -1px hsl(0 0% 0% / 0.05);
  --shadow-sm: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 1px 2px -2px hsl(0 0% 0% / 0.10);
  --shadow: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 1px 2px -2px hsl(0 0% 0% / 0.10);
  --shadow-md: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 2px 4px -2px hsl(0 0% 0% / 0.10);
  --shadow-lg: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 4px 6px -2px hsl(0 0% 0% / 0.10);
  --shadow-xl: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 8px 10px -2px hsl(0 0% 0% / 0.10);
  --shadow-2xl: 0px 4px 8px -1px hsl(0 0% 0% / 0.25);
}

@theme inline {
  --shadow-2xs: var(--shadow-2xs);
  --shadow-xs: var(--shadow-xs);
  --shadow-sm: var(--shadow-sm);
  --shadow: var(--shadow);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
  --shadow-2xl: var(--shadow-2xl);
}
```

### Color Usage Guide

**Primary (Teal/Green)** - `oklch(0.7227 0.1920 149.5793)`
- Main CTAs and primary actions
- Progress indicators
- Active states
- Brand elements

**Secondary (Light Purple/Blue)** - `oklch(0.9514 0.0250 236.8242)`
- Sidebar backgrounds
- Secondary containers
- Subtle highlights

**Accent (Mint)** - `oklch(0.9505 0.0507 163.0508)`
- Hover states
- Highlighted information
- Special callouts

**Destructive (Orange/Red)** - `oklch(0.6368 0.2078 25.3313)`
- Delete actions
- Error states
- Warning messages

**Muted** - `oklch(0.9670 0.0029 264.5419)`
- Disabled states
- Placeholder text
- Secondary information

**Chart Colors** - Five-step gradient from teal to deep teal
- Budget breakdowns
- Analytics visualization
- Progress charts

## Frontend Architecture

### Technology Stack
```json
{
  "core": {
    "react": "^18.2.0",
    "typescript": "^5.0.0",
    "vite": "^5.0.0"
  },
  "styling": {
    "tailwindcss": "^3.4.0",
    "autoprefixer": "^10.4.0",
    "postcss": "^8.4.0"
  },
  "state": {
    "zustand": "^4.5.0"
  },
  "forms": {
    "react-hook-form": "^7.50.0",
    "zod": "^3.22.0"
  },
  "routing": {
    "react-router-dom": "^6.22.0"
  },
  "utilities": {
    "date-fns": "^3.3.0",
    "clsx": "^2.1.0",
    "lucide-react": "^0.344.0"
  },
  "animation": {
    "framer-motion": "^11.0.0"
  }
}
```

### Project Structure
```
src/
├── components/
│   ├── onboarding/
│   │   ├── ConversationInterface.tsx
│   │   ├── QuestionPrompt.tsx
│   │   ├── UserInput.tsx
│   │   ├── ConfirmationDialog.tsx
│   │   ├── ProgressBar.tsx
│   │   ├── ProfileReview.tsx
│   │   └── EditableField.tsx
│   ├── profile/
│   │   ├── ProfileDashboard.tsx
│   │   ├── ProfileCard.tsx
│   │   ├── TravelGroupSection.tsx
│   │   ├── LocationSection.tsx
│   │   ├── BudgetSection.tsx
│   │   └── TripHistorySection.tsx
│   ├── trip-planning/
│   │   ├── TripPlanningInterface.tsx
│   │   ├── ItineraryView.tsx
│   │   ├── DayPlanCard.tsx
│   │   ├── ActivityCard.tsx
│   │   ├── BudgetBreakdown.tsx
│   │   ├── BookingLinksPanel.tsx
│   │   └── ItineraryEditor.tsx
│   ├── shared/
│   │   ├── Button.tsx
│   │   ├── Input.tsx
│   │   ├── Select.tsx
│   │   ├── Card.tsx
│   │   ├── Badge.tsx
│   │   ├── Modal.tsx
│   │   ├── Tooltip.tsx
│   │   └── LoadingSpinner.tsx
│   └── layout/
│       ├── Header.tsx
│       ├── Navigation.tsx
│       ├── Sidebar.tsx
│       └── Layout.tsx
├── pages/
│   ├── Welcome.tsx
│   ├── Onboarding.tsx
│   ├── Profile.tsx
│   ├── TripPlanning.tsx
│   ├── Itineraries.tsx
│   └── ItineraryDetail.tsx
├── hooks/
│   ├── useOnboarding.ts
│   ├── useProfile.ts
│   ├── useTripPlanning.ts
│   ├── useLocalStorage.ts
│   └── useConversation.ts
├── store/
│   ├── profileStore.ts
│   ├── onboardingStore.ts
│   └── itineraryStore.ts
├── utils/
│   ├── validation.ts
│   ├── formatting.ts
│   ├── mockResponses.ts
│   └── dataExtraction.ts
├── types/
│   ├── profile.ts
│   ├── itinerary.ts
│   └── conversation.ts
├── constants/
│   ├── questions.ts
│   └── defaultValues.ts
└── styles/
    └── global.css
```

## Component Specifications

### 1. Onboarding Components

#### ConversationInterface.tsx
Main container for the onboarding conversation flow.

```typescript
interface ConversationInterfaceProps {
  currentQuestion: number;
  onComplete: () => void;
}

// Features:
// - Displays current question
// - Shows conversation history
// - Auto-scrolls to latest message
// - Handles user input
// - Shows typing indicators
// - Displays confirmation dialogs
```

**Visual Design:**
- Full-height container with gradient background using `bg-background`
- Chat-like interface with messages
- Fixed input at bottom
- Progress indicator at top
- Smooth animations for new messages

#### QuestionPrompt.tsx
Displays AI questions in conversation format.

```typescript
interface QuestionPromptProps {
  question: string;
  timestamp: Date;
  type: 'initial' | 'followup' | 'confirmation';
}

// Features:
// - Avatar icon for AI
// - Animated entry
// - Formatted text with emphasis
// - Timestamp display
```

**Visual Design:**
```jsx
<div className="flex gap-3 mb-4 animate-slide-in">
  <div className="w-10 h-10 rounded-full bg-primary flex items-center justify-center flex-shrink-0">
    <BotIcon className="w-6 h-6 text-primary-foreground" />
  </div>
  <div className="flex-1">
    <div className="bg-card rounded-2xl rounded-tl-sm p-4 shadow-md">
      <p className="text-card-foreground leading-relaxed">{question}</p>
    </div>
    <span className="text-xs text-muted-foreground mt-1 block">
      {formatTime(timestamp)}
    </span>
  </div>
</div>
```

#### UserInput.tsx
Input component for user responses.

```typescript
interface UserInputProps {
  onSubmit: (message: string) => void;
  placeholder?: string;
  disabled?: boolean;
  multiline?: boolean;
}

// Features:
// - Auto-resize textarea
// - Enter to send (Shift+Enter for new line)
// - Character counter for long responses
// - Voice button placeholder (Phase 3)
// - Submit button with loading state
```

**Visual Design:**
```jsx
<div className="sticky bottom-0 bg-card border-t border-border p-4">
  <div className="max-w-3xl mx-auto">
    <div className="flex gap-2 items-end">
      <div className="flex-1 relative">
        <textarea
          rows={1}
          className="w-full resize-none rounded-2xl border border-input 
                     bg-background px-4 py-3 pr-12 text-foreground
                     focus:outline-none focus:ring-2 focus:ring-ring 
                     focus:border-transparent"
          placeholder="Type your response..."
        />
        <button className="absolute right-2 bottom-2 p-2 text-muted-foreground 
                          hover:text-primary transition-colors">
          <MicIcon className="w-5 h-5" />
        </button>
      </div>
      <button className="px-6 py-3 bg-primary text-primary-foreground 
                        rounded-2xl hover:opacity-90 transition-opacity 
                        font-medium">
        Send
      </button>
    </div>
  </div>
</div>
```

#### ConfirmationDialog.tsx
Shows extracted data for user confirmation.

```typescript
interface ConfirmationDialogProps {
  data: Record<string, any>;
  onConfirm: () => void;
  onCorrect: () => void;
}

// Features:
// - Formatted display of extracted data
// - Highlight key information
// - Clear confirm/correct buttons
// - Edit inline for corrections
```

**Visual Design:**
```jsx
<div className="bg-accent border border-accent-foreground/20 rounded-xl p-4 mb-4">
  <h3 className="font-semibold text-accent-foreground mb-3 flex items-center gap-2">
    <CheckCircleIcon className="w-5 h-5 text-primary" />
    Please confirm this information:
  </h3>
  
  <div className="space-y-2 mb-4">
    {Object.entries(data).map(([key, value]) => (
      <div key={key} className="flex justify-between">
        <span className="text-muted-foreground">{formatKey(key)}:</span>
        <span className="font-medium text-accent-foreground">{value}</span>
      </div>
    ))}
  </div>
  
  <div className="flex gap-3">
    <button className="flex-1 px-4 py-2 bg-primary text-primary-foreground 
                      rounded-lg hover:opacity-90 transition-opacity font-medium">
      ✓ Correct
    </button>
    <button className="flex-1 px-4 py-2 border border-border 
                      text-foreground rounded-lg hover:bg-accent transition-colors">
      Make Changes
    </button>
  </div>
</div>
```

#### ProgressBar.tsx
Shows onboarding progress.

```typescript
interface ProgressBarProps {
  currentStep: number;
  totalSteps: number;
  stepLabels?: string[];
}

// Features:
// - Visual progress indicator
// - Step numbers and labels
// - Animated transitions
// - Mobile-friendly
```

**Visual Design:**
```jsx
<div className="bg-card border-b border-border p-4">
  <div className="max-w-3xl mx-auto">
    <div className="flex items-center justify-between mb-2">
      <span className="text-sm font-medium text-foreground">
        Step {currentStep} of {totalSteps}
      </span>
      <span className="text-sm text-muted-foreground">
        {Math.round((currentStep / totalSteps) * 100)}% Complete
      </span>
    </div>
    
    <div className="h-2 bg-muted rounded-full overflow-hidden">
      <div 
        className="h-full bg-primary transition-all duration-500"
        style={{ width: `${(currentStep / totalSteps) * 100}%` }}
      />
    </div>
    
    {/* Desktop step indicators */}
    <div className="hidden md:flex justify-between mt-4">
      {stepLabels.map((label, idx) => (
        <div 
          key={idx}
          className={`text-xs ${
            idx < currentStep ? 'text-primary' : 'text-muted-foreground'
          }`}
        >
          {label}
        </div>
      ))}
    </div>
  </div>
</div>
```

#### ProfileReview.tsx
Summary screen showing complete profile.

```typescript
interface ProfileReviewProps {
  profile: TravelProfile;
  onEdit: (section: string) => void;
  onContinue: () => void;
}

// Features:
// - Organized sections for each profile area
// - Edit buttons for each section
// - Visual confirmation of completion
// - CTA to start trip planning
```

**Visual Design:**
```jsx
<div className="max-w-4xl mx-auto p-6">
  <div className="text-center mb-8">
    <div className="w-16 h-16 bg-accent rounded-full flex items-center 
                    justify-center mx-auto mb-4">
      <CheckIcon className="w-8 h-8 text-primary" />
    </div>
    <h1 className="text-3xl font-bold text-foreground mb-2 font-serif">
      Profile Complete!
    </h1>
    <p className="text-muted-foreground">
      Review your information below. You can edit anything later.
    </p>
  </div>
  
  <div className="grid gap-6 mb-8">
    {/* Contact Info Section */}
    <ProfileSection
      title="Contact Information"
      icon={<UserIcon />}
      data={profile.contactInfo}
      onEdit={() => onEdit('contact')}
    />
    
    {/* Travel Group Section */}
    <ProfileSection
      title="Travel Group"
      icon={<UsersIcon />}
      data={profile.travelGroup}
      onEdit={() => onEdit('group')}
    />
    
    {/* Additional sections... */}
  </div>
  
  <button className="w-full py-4 bg-primary text-primary-foreground rounded-xl 
                    text-lg font-semibold hover:opacity-90 transition-opacity">
    Start Planning Your Next Trip →
  </button>
</div>
```

### 2. Profile Components

#### ProfileDashboard.tsx
Main profile overview page.

```typescript
interface ProfileDashboardProps {
  profile: TravelProfile;
}

// Features:
// - Quick stats (trips planned, members, etc.)
// - Editable sections
// - Recent activity
// - Quick actions
```

**Visual Design:**
```jsx
<div className="min-h-screen bg-background">
  <div className="max-w-7xl mx-auto p-6">
    {/* Header */}
    <div className="mb-8">
      <h1 className="text-3xl font-bold text-foreground mb-2 font-serif">
        Your Travel Profile
      </h1>
      <p className="text-muted-foreground">
        Manage your preferences and travel information
      </p>
    </div>
    
    {/* Quick Stats */}
    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <StatCard
        icon={<PlaneIcon />}
        label="Trips Planned"
        value={profile.itineraries.length}
        color="chart-1"
      />
      <StatCard
        icon={<UsersIcon />}
        label="Travel Members"
        value={profile.travelGroup.members.length}
        color="chart-2"
      />
      <StatCard
        icon={<MapPinIcon />}
        label="Home Base"
        value={`${profile.location.city}, ${profile.location.state}`}
        color="chart-3"
      />
    </div>
    
    {/* Profile Sections */}
    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <ProfileCard
        title="Contact Information"
        section={profile.contactInfo}
        onEdit={() => {}}
      />
      <ProfileCard
        title="Travel Group"
        section={profile.travelGroup}
        onEdit={() => {}}
      />
      <ProfileCard
        title="Location & Airports"
        section={profile.location}
        onEdit={() => {}}
      />
      <ProfileCard
        title="Budget Preferences"
        section={profile.budgetPreferences}
        onEdit={() => {}}
      />
    </div>
  </div>
</div>
```

#### EditableField.tsx
Inline editable field component.

```typescript
interface EditableFieldProps {
  label: string;
  value: string | number;
  type?: 'text' | 'email' | 'tel' | 'date' | 'number';
  onSave: (newValue: any) => void;
}

// Features:
// - Click to edit
// - Inline editing
// - Save/cancel buttons
// - Validation
```

**Visual Design:**
```jsx
<div className="group relative">
  {!isEditing ? (
    <div className="flex items-center justify-between py-2 px-3 
                    rounded-lg hover:bg-accent cursor-pointer transition-colors"
         onClick={() => setIsEditing(true)}>
      <div>
        <label className="text-sm text-muted-foreground block">{label}</label>
        <p className="text-foreground font-medium">{value}</p>
      </div>
      <PencilIcon className="w-4 h-4 text-muted-foreground opacity-0 
                            group-hover:opacity-100 transition-opacity" />
    </div>
  ) : (
    <div className="py-2 px-3 bg-accent rounded-lg border border-primary/20">
      <label className="text-sm text-muted-foreground block mb-1">{label}</label>
      <div className="flex gap-2">
        <input
          type={type}
          value={editValue}
          onChange={(e) => setEditValue(e.target.value)}
          className="flex-1 px-3 py-2 border border-input bg-background 
                     text-foreground rounded-md focus:outline-none 
                     focus:ring-2 focus:ring-ring"
          autoFocus
        />
        <button
          onClick={handleSave}
          className="px-3 py-2 bg-primary text-primary-foreground 
                     rounded-md hover:opacity-90"
        >
          ✓
        </button>
        <button
          onClick={handleCancel}
          className="px-3 py-2 bg-secondary text-secondary-foreground 
                     rounded-md hover:opacity-90"
        >
          ✕
        </button>
      </div>
    </div>
  )}
</div>
```

### 3. Trip Planning Components

#### TripPlanningInterface.tsx
Main trip planning conversation interface.

```typescript
interface TripPlanningInterfaceProps {
  profile: TravelProfile;
  onItineraryGenerated: (itinerary: TripItinerary) => void;
}

// Features:
// - Similar to onboarding conversation
// - Context-aware suggestions
// - Profile data integration
// - Real-time itinerary preview
```

#### ItineraryView.tsx
Display generated trip itinerary.

```typescript
interface ItineraryViewProps {
  itinerary: TripItinerary;
  onEdit: () => void;
  onSave: () => void;
}

// Features:
// - Timeline view of days
// - Collapsible day sections
// - Activity cards
// - Budget summary
// - Booking links panel
// - Print/export options
```

**Visual Design:**
```jsx
<div className="max-w-6xl mx-auto p-6">
  {/* Header */}
  <div className="bg-card rounded-xl shadow-sm p-6 mb-6">
    <div className="flex items-start justify-between mb-4">
      <div>
        <h1 className="text-3xl font-bold text-foreground mb-2 font-serif">
          {itinerary.tripOverview.title}
        </h1>
        <div className="flex items-center gap-4 text-muted-foreground">
          <span className="flex items-center gap-1">
            <MapPinIcon className="w-4 h-4" />
            {itinerary.tripOverview.destination}
          </span>
          <span className="flex items-center gap-1">
            <CalendarIcon className="w-4 h-4" />
            {formatDateRange(itinerary.tripOverview.startDate, 
                            itinerary.tripOverview.endDate)}
          </span>
          <span className="flex items-center gap-1">
            <UsersIcon className="w-4 h-4" />
            {itinerary.tripOverview.travelMembers.length} travelers
          </span>
        </div>
      </div>
      
      <div className="flex gap-2">
        <button className="px-4 py-2 border border-border rounded-lg 
                          hover:bg-accent transition-colors">
          <ShareIcon className="w-4 h-4" />
        </button>
        <button className="px-4 py-2 border border-border rounded-lg 
                          hover:bg-accent transition-colors">
          <DownloadIcon className="w-4 h-4" />
        </button>
        <button className="px-4 py-2 bg-primary text-primary-foreground 
                          rounded-lg hover:opacity-90 transition-opacity">
          Edit Itinerary
        </button>
      </div>
    </div>
    
    {/* Budget Summary */}
    <div className="grid grid-cols-5 gap-4 pt-4 border-t border-border">
      <BudgetItem label="Flights" amount={itinerary.budgetSummary.flights.estimated} color="chart-1" />
      <BudgetItem label="Lodging" amount={itinerary.budgetSummary.lodging.estimated} color="chart-2" />
      <BudgetItem label="Food" amount={itinerary.budgetSummary.food.estimated} color="chart-3" />
      <BudgetItem label="Activities" amount={itinerary.budgetSummary.activities.estimated} color="chart-4" />
      <BudgetItem 
        label="Total" 
        amount={itinerary.budgetSummary.total.estimated}
        highlight={true}
      />
    </div>
  </div>
  
  {/* Main Content Grid */}
  <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
    {/* Itinerary Timeline - 2 columns */}
    <div className="lg:col-span-2 space-y-4">
      {itinerary.dailyPlan.map((day, index) => (
        <DayPlanCard key={day.dayNumber} day={day} dayNumber={index + 1} />
      ))}
    </div>
    
    {/* Sidebar - 1 column */}
    <div className="space-y-4">
      {/* Flight Info */}
      <FlightInfoCard
        outbound={itinerary.transportation.outbound}
        return={itinerary.transportation.return}
      />
      
      {/* Accommodation */}
      <AccommodationCard
        accommodations={itinerary.accommodation}
      />
      
      {/* Booking Links */}
      <BookingLinksPanel
        links={itinerary.bookingLinks}
      />
    </div>
  </div>
</div>
```

#### DayPlanCard.tsx
Individual day in itinerary.

```typescript
interface DayPlanCardProps {
  day: DayPlan;
  dayNumber: number;
  onEdit?: () => void;
}

// Features:
// - Collapsible day section
// - Activity timeline
// - Meal indicators
// - Time-based organization
// - Drag-to-reorder (future)
```

**Visual Design:**
```jsx
<div className="bg-card rounded-xl shadow-sm overflow-hidden">
  {/* Day Header */}
  <button
    onClick={() => setIsExpanded(!isExpanded)}
    className="w-full px-6 py-4 flex items-center justify-between 
               hover:bg-accent transition-colors"
  >
    <div className="flex items-center gap-4">
      <div className="w-12 h-12 bg-accent rounded-full flex 
                      items-center justify-center">
        <span className="text-primary font-bold">
          Day {dayNumber}
        </span>
      </div>
      <div className="text-left">
        <h3 className="text-lg font-semibold text-foreground">
          {day.theme || format(day.date, 'EEEE, MMMM d')}
        </h3>
        <p className="text-sm text-muted-foreground">
          {day.activities.length} activities • {day.meals.length} meals
        </p>
      </div>
    </div>
    
    <ChevronDownIcon 
      className={`w-5 h-5 text-muted-foreground transition-transform ${
        isExpanded ? 'rotate-180' : ''
      }`}
    />
  </button>
  
  {/* Day Content */}
  {isExpanded && (
    <div className="px-6 pb-6">
      <div className="space-y-3">
        {/* Morning */}
        {getMorningActivities(day).map(activity => (
          <ActivityCard key={activity.id} activity={activity} />
        ))}
        
        {/* Lunch */}
        {day.meals.find(m => m.type === 'lunch') && (
          <MealCard meal={day.meals.find(m => m.type === 'lunch')!} />
        )}
        
        {/* Afternoon */}
        {getAfternoonActivities(day).map(activity => (
          <ActivityCard key={activity.id} activity={activity} />
        ))}
        
        {/* Dinner */}
        {day.meals.find(m => m.type === 'dinner') && (
          <MealCard meal={day.meals.find(m => m.type === 'dinner')!} />
        )}
      </div>
      
      {day.notes && (
        <div className="mt-4 p-3 bg-accent rounded-lg border border-primary/10">
          <p className="text-sm text-foreground">{day.notes}</p>
        </div>
      )}
    </div>
  )}
</div>
```

#### ActivityCard.tsx
Individual activity within a day.

```typescript
interface ActivityCardProps {
  activity: Activity;
  onEdit?: () => void;
}

// Features:
// - Activity details
// - Time and duration
// - Cost estimate
// - Booking link button
// - Icons for activity type
```

**Visual Design:**
```jsx
<div className="flex gap-4 p-4 bg-muted rounded-lg border border-border 
               hover:border-primary/30 transition-colors">
  {/* Time */}
  <div className="flex-shrink-0 text-center">
    <div className="text-sm font-medium text-foreground">{activity.time}</div>
    <div className="text-xs text-muted-foreground">{activity.duration}min</div>
  </div>
  
  {/* Icon */}
  <div className="flex-shrink-0">
    <div className="w-10 h-10 bg-accent rounded-lg flex items-center 
                    justify-center">
      {getActivityIcon(activity.type)}
    </div>
  </div>
  
  {/* Content */}
  <div className="flex-1 min-w-0">
    <h4 className="font-semibold text-foreground mb-1">{activity.title}</h4>
    <p className="text-sm text-muted-foreground mb-2">{activity.description}</p>
    
    <div className="flex items-center gap-4 text-xs text-muted-foreground">
      <span className="flex items-center gap-1">
        <MapPinIcon className="w-3 h-3" />
        {activity.location}
      </span>
      {activity.estimatedCost && (
        <span className="flex items-center gap-1">
          <DollarSignIcon className="w-3 h-3" />
          ${activity.estimatedCost}
        </span>
      )}
    </div>
  </div>
  
  {/* Booking Link */}
  {activity.bookingLinks && activity.bookingLinks.length > 0 && (
    <div className="flex-shrink-0">
      <button className="px-3 py-1.5 bg-primary text-primary-foreground 
                        text-sm rounded-md hover:opacity-90 transition-opacity">
        Book
      </button>
    </div>
  )}
</div>
```

#### BookingLinksPanel.tsx
Sidebar panel with all booking links.

```typescript
interface BookingLinksPanelProps {
  links: BookingLink[];
}

// Features:
// - Categorized booking links
// - Price information
// - Provider logos
// - Quick copy link
// - Open in new tab
```

**Visual Design:**
```jsx
<div className="bg-card rounded-xl shadow-sm p-6 sticky top-6">
  <h3 className="text-lg font-semibold text-foreground mb-4 flex items-center gap-2">
    <ExternalLinkIcon className="w-5 h-5" />
    Booking Links
  </h3>
  
  <div className="space-y-4">
    {/* Flights */}
    <div>
      <h4 className="text-sm font-medium text-muted-foreground mb-2">Flights</h4>
      {links.filter(l => l.category === 'flight').map(link => (
        <BookingLinkItem key={link.id} link={link} />
      ))}
    </div>
    
    {/* Hotels */}
    <div>
      <h4 className="text-sm font-medium text-muted-foreground mb-2">Hotels</h4>
      {links.filter(l => l.category === 'hotel').map(link => (
        <BookingLinkItem key={link.id} link={link} />
      ))}
    </div>
    
    {/* Activities */}
    <div>
      <h4 className="text-sm font-medium text-muted-foreground mb-2">Activities</h4>
      {links.filter(l => l.category === 'activity').map(link => (
        <BookingLinkItem key={link.id} link={link} />
      ))}
    </div>
  </div>
  
  <div className="mt-6 pt-6 border-t border-border">
    <button className="w-full py-3 bg-secondary text-secondary-foreground 
                      rounded-lg hover:opacity-90 transition-opacity">
      Export All Links
    </button>
  </div>
</div>
```

### 4. Shared Components

#### Button.tsx
Reusable button component.

```typescript
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'destructive';
  size?: 'sm' | 'md' | 'lg';
  icon?: React.ReactNode;
  iconPosition?: 'left' | 'right';
  loading?: boolean;
  disabled?: boolean;
  fullWidth?: boolean;
  onClick?: () => void;
  children: React.ReactNode;
}

// Variant Classes:
// - primary: bg-primary text-primary-foreground
// - secondary: bg-secondary text-secondary-foreground
// - outline: border border-border bg-transparent
// - ghost: bg-transparent hover:bg-accent
// - destructive: bg-destructive text-destructive-foreground
```

#### Card.tsx
Reusable card container.

```typescript
interface CardProps {
  title?: string;
  subtitle?: string;
  actions?: React.ReactNode;
  padding?: 'none' | 'sm' | 'md' | 'lg';
  hover?: boolean;
  children: React.ReactNode;
}

// Base classes: bg-card text-card-foreground rounded-xl shadow-sm
```

#### Modal.tsx
Modal dialog component.

```typescript
interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  title: string;
  size?: 'sm' | 'md' | 'lg' | 'xl';
  children: React.ReactNode;
  footer?: React.ReactNode;
}

// Features:
// - Backdrop overlay (bg-background/80)
// - Click outside to close
// - ESC to close
// - Focus trap
// - Smooth animations
```

### 5. Layout Components

#### Header.tsx
Main application header.

**Visual Design:**
```jsx
<header className="bg-card border-b border-border sticky top-0 z-50">
  <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div className="flex items-center justify-between h-16">
      {/* Logo */}
      <div className="flex items-center gap-2">
        <PlaneIcon className="w-8 h-8 text-primary" />
        <span className="text-xl font-bold text-foreground font-serif">
          TravelProfile
        </span>
      </div>
      
      {/* Navigation */}
      <nav className="hidden md:flex items-center gap-8">
        <NavLink to="/profile" className="text-muted-foreground hover:text-foreground">
          Profile
        </NavLink>
        <NavLink to="/itineraries" className="text-muted-foreground hover:text-foreground">
          My Trips
        </NavLink>
        <NavLink to="/plan" className="text-muted-foreground hover:text-foreground">
          Plan New Trip
        </NavLink>
      </nav>
      
      {/* User Menu */}
      <div className="flex items-center gap-4">
        <button className="p-2 text-muted-foreground hover:text-foreground">
          <BellIcon className="w-5 h-5" />
        </button>
        <UserMenu />
      </div>
    </div>
  </div>
</header>
```

## Pages

### Welcome.tsx
Landing page for new users.

**Layout:**
- Hero section with value proposition (bg-background)
- How it works (3 steps) - uses card components
- CTA to start onboarding (bg-primary)
- Sample itinerary preview

### Onboarding.tsx
Main onboarding flow page.

**Layout:**
- Progress bar at top
- Conversation interface in center (bg-background)
- Skip/back navigation
- Save and exit option

### Profile.tsx
User profile dashboard.

**Layout:**
- Profile header with stats (uses chart colors)
- Grid of profile sections (bg-card)
- Recent activity sidebar
- Quick actions

### TripPlanning.tsx
Trip planning conversation page.

**Layout:**
- Similar to onboarding
- Profile context sidebar (optional) (bg-sidebar)
- Real-time itinerary preview

### Itineraries.tsx
List of all saved itineraries.

**Layout:**
- Grid/list view toggle
- Filter by status (draft, planned, completed)
- Search itineraries
- Create new trip CTA

### ItineraryDetail.tsx
Individual itinerary view.

**Layout:**
- Itinerary header with overview
- Day-by-day timeline (main)
- Booking links sidebar
- Budget breakdown (uses chart colors)

## Responsive Design

### Breakpoints
```css
/* Mobile First Approach */
/* Mobile: default (< 640px) */
/* Tablet: sm:640px */
/* Desktop: lg:1024px */
/* Wide: xl:1280px */
```

### Mobile Adaptations

#### Conversation Interface (Mobile)
- Full-screen layout
- Fixed input at bottom
- Compact message bubbles
- Swipe to see sidebar

#### Itinerary View (Mobile)
- Single column layout
- Collapsible sections
- Floating action button for booking links
- Tab navigation for days

#### Profile Dashboard (Mobile)
- Stacked cards
- Accordion sections
- Bottom sheet for editing

## Animation & Transitions

### Message Animations
```css
@keyframes slide-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-in {
  animation: slide-in 0.3s ease-out;
}
```

### Interaction Feedback
- Button press: scale(0.98)
- Hover states: opacity or background color transition
- Loading states: spinner or skeleton
- Success: checkmark animation
- Error: shake animation

## Accessibility

### Requirements
- ARIA labels on all interactive elements
- Keyboard navigation support
- Focus indicators (ring-2 ring-ring)
- Screen reader friendly
- Color contrast WCAG AA compliant
- Skip to content links
- Semantic HTML

### Focus Management
- Trap focus in modals
- Return focus after modal close
- Clear focus indicators
- Logical tab order

## Performance Considerations

### Code Splitting
```typescript
// Route-based code splitting
const Onboarding = lazy(() => import('./pages/Onboarding'));
const Profile = lazy(() => import('./pages/Profile'));
const TripPlanning = lazy(() => import('./pages/TripPlanning'));
```

### Optimization
- Lazy load images
- Virtualize long lists (itineraries)
- Debounce search inputs
- Optimize re-renders with React.memo
- Use CSS animations over JS when possible

## Mock Data Strategy

### Phase 1 Implementation
For the prototype without ChatKit integration, use mock functions that simulate AI responses:

```typescript
// utils/mockResponses.ts
export const mockQuestionResponse = (questionId: string, userInput: string) => {
  // Simulate AI processing delay
  return new Promise((resolve) => {
    setTimeout(() => {
      const extracted = extractDataMock(questionId, userInput);
      resolve({
        confirmation: formatConfirmation(extracted),
        data: extracted
      });
    }, 1000);
  });
};

export const extractDataMock = (questionId: string, input: string) => {
  // Simple pattern matching for demo
  switch (questionId) {
    case 'contact':
      return extractContactInfo(input);
    case 'travel-group':
      return extractTravelGroup(input);
    // ... etc
  }
};
```

### Sample Itinerary Generator
```typescript
// utils/mockItinerary.ts
export const generateMockItinerary = (
  destination: string,
  dates: { start: Date; end: Date },
  profile: TravelProfile
): TripItinerary => {
  // Generate sample itinerary based on inputs
  // Use templates for different destination types
  // Incorporate profile preferences
};
```

## Data Model

```typescript
interface TravelProfile {
  id: string;
  createdAt: Date;
  updatedAt: Date;
  completionStatus: number; // 0-100%
  
  // Contact Information
  contactInfo: {
    email: string;
    phone: string;
    dateOfBirth: Date;
  };
  
  // Travel Group
  travelGroup: {
    type: 'solo' | 'partner' | 'family' | 'group';
    members: TravelMember[];
  };
  
  // Location
  location: {
    address?: string;
    city: string;
    state: string;
    zipCode: string;
    preferredAirports: string[];
    preferredTerminals?: {
      type: 'bus' | 'train' | 'ferry';
      name: string;
    }[];
  };
  
  // Upcoming Trips
  upcomingTrips: PlannedTrip[];
  
  // Past Trips
  pastTrips: PastTrip[];
  
  // Budget & Preferences
  budgetPreferences: {
    priorityCategories: {
      flights: 'low' | 'medium' | 'high';
      lodging: 'low' | 'medium' | 'high';
      food: 'low' | 'medium' | 'high';
      activities: 'low' | 'medium' | 'high';
    };
    budgetRange?: {
      min: number;
      max: number;
      currency: string;
    };
    notes: string;
  };
  
  // Generated Itineraries
  itineraries: TripItinerary[];
  
  // Conversation History
  conversationLog: ConversationEntry[];
}

interface TravelMember {
  id: string;
  name: string;
  age: number;
  dateOfBirth?: Date;
  relationship: string;
  isMinor: boolean;
  schoolInfo?: {
    schoolName?: string;
    schoolDistrict?: string;
  };
  specialNeeds?: string[];
}

interface PlannedTrip {
  id: string;
  destination?: string;
  timeframe: {
    type: 'exact' | 'approximate';
    startDate?: Date;
    endDate?: Date;
    description?: string;
  };
  purpose: 'business' | 'vacation' | 'family' | 'other';
  notes: string;
  travelMembers: string[];
}

interface PastTrip {
  id: string;
  destination: string;
  date: Date;
  travelMembers: string[];
  likes: string[];
  dislikes: string[];
  specialNeeds: string[];
  summary: string;
}

interface TripItinerary {
  id: string;
  createdAt: Date;
  updatedAt: Date;
  status: 'draft' | 'planned' | 'booked' | 'completed';
  
  tripOverview: {
    title: string;
    destination: string;
    startDate: Date;
    endDate: Date;
    duration: number;
    travelMembers: string[];
    tripType: 'dream' | 'planned' | 'business';
  };
  
  transportation: {
    outbound: FlightOption;
    return: FlightOption;
    localTransport?: string[];
  };
  
  accommodation: AccommodationOption[];
  dailyPlan: DayPlan[];
  
  budgetSummary: {
    flights: BudgetItem;
    lodging: BudgetItem;
    food: BudgetItem;
    activities: BudgetItem;
    transportation: BudgetItem;
    total: {
      estimated: number;
      currency: string;
    };
  };
  
  bookingLinks: BookingLink[];
  notes: string[];
  packingList?: string[];
}

interface FlightOption {
  departure: {
    airport: string;
    time: Date;
  };
  arrival: {
    airport: string;
    time: Date;
  };
  airline?: string;
  estimatedPrice: number;
  bookingLinks: string[];
  notes?: string;
}

interface AccommodationOption {
  name: string;
  type: 'hotel' | 'airbnb' | 'resort' | 'hostel' | 'other';
  checkIn: Date;
  checkOut: Date;
  location: string;
  estimatedPrice: number;
  bookingLinks: string[];
  amenities?: string[];
  notes?: string;
}

interface DayPlan {
  dayNumber: number;
  date: Date;
  theme?: string;
  activities: Activity[];
  meals: Meal[];
  notes?: string;
}

interface Activity {
  id: string;
  time: string;
  title: string;
  description: string;
  location: string;
  duration: number;
  estimatedCost?: number;
  bookingLinks?: string[];
  type: 'attraction' | 'tour' | 'experience' | 'shopping' | 'relaxation' | 'other';
  recommendedFor?: string[];
}

interface Meal {
  id: string;
  time: string;
  type: 'breakfast' | 'lunch' | 'dinner' | 'snack';
  restaurant?: string;
  cuisine?: string;
  location?: string;
  estimatedCost?: number;
  bookingLinks?: string[];
  notes?: string;
}

interface BudgetItem {
  estimated: number;
  breakdown?: {
    description: string;
    amount: number;
  }[];
}

interface BookingLink {
  id: string;
  category: 'flight' | 'hotel' | 'activity' | 'restaurant' | 'transport';
  title: string;
  url: string;
  provider: string;
  estimatedPrice?: number;
}

interface ConversationEntry {
  id: string;
  timestamp: Date;
  phase: 'onboarding' | 'trip-planning';
  questionId: string;
  userResponse: string;
  extractedData: any;
  confirmed: boolean;
  corrections?: string[];
}
```

## State Management

### Zustand Store Structure

```typescript
// store/profileStore.ts
interface ProfileState {
  profile: TravelProfile | null;
  isLoading: boolean;
  error: string | null;
  
  // Actions
  updateProfile: (updates: Partial<TravelProfile>) => void;
  updateSection: (section: keyof TravelProfile, data: any) => void;
  loadProfile: () => Promise<void>;
  saveProfile: () => Promise<void>;
}

// store/onboardingStore.ts
interface OnboardingState {
  currentStep: number;
  conversationHistory: ConversationEntry[];
  extractedData: Record<string, any>;
  isProcessing: boolean;
  
  // Actions
  nextStep: () => void;
  previousStep: () => void;
  addMessage: (entry: ConversationEntry) => void;
  updateExtractedData: (questionId: string, data: any) => void;
  completeOnboarding: () => void;
}

// store/itineraryStore.ts
interface ItineraryState {
  itineraries: TripItinerary[];
  currentItinerary: TripItinerary | null;
  isGenerating: boolean;
  
  // Actions
  generateItinerary: (params: ItineraryParams) => Promise<void>;
  saveItinerary: (itinerary: TripItinerary) => void;
  updateItinerary: (id: string, updates: Partial<TripItinerary>) => void;
  deleteItinerary: (id: string) => void;
  loadItineraries: () => Promise<void>;
}
```

## Conversation Flow Specification

[Previous conversation flow content remains the same - Questions 1-6 for onboarding and trip planning flow]

## Success Metrics

### Onboarding Metrics
- Profile completion rate
- Average time to complete intake
- Data extraction accuracy
- User satisfaction scores
- Correction frequency per question

### Trip Planning Metrics
- Itineraries created per user
- Itinerary completion rate
- Booking link click-through rate
- Itinerary satisfaction scores
- Time from planning to booking
- Refinement iterations per itinerary

## Future Enhancements

### Phase 3: Voice Integration
- VoiceFlow SDK
- Wake word detection
- Voice commands during planning
- Audio playback of itineraries

### Phase 4: Trip Planning Engine
- AI-powered recommendations
- Real-time pricing
- Alternative suggestions
- Smart optimizations

### Phase 5: Enhanced Features
- Weather integration
- School calendar sync
- Packing list generator
- Travel tips
- Collaboration features

### Phase 6: Booking Integration
- Direct booking APIs
- Price monitoring
- One-click booking
- Travel insurance
- Document management